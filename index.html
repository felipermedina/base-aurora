<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Base Aurora | G148 Teen</title>
  <style>
    /* --- seu CSS original aqui --- */
    :root {
      --roxo: #6A1B9A;
      --verde: #26A69A;
      --amarelo: #FFC107;
      --fundo: #FFFFFF;
      --texto: #333333;
      --fundo-escuro: #121212;
      --texto-escuro: #EEE;
      --verde-escuro: #1B7A74;
      --roxo-escuro: #4B116F;
      --amarelo-escuro: #B08900;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", sans-serif;
    }
    body {
      background-color: var(--fundo);
      color: var(--texto);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }
    body.dark-mode {
      background-color: var(--fundo-escuro);
      color: var(--texto-escuro);
    }
    header {
      background-color: var(--verde);
      width: 100%;
      padding: 20px 60px;
      color: white;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #btnHamburguer {
      position: absolute;
      left: 20px;
      font-size: 28px;
      cursor: pointer;
      user-select: none;
      color: white;
      background: transparent;
      border: none;
      padding: 0;
      line-height: 1;
      z-index: 1002;
    }
    #btnModoEscuro {
      position: absolute;
      right: 20px;
      background: transparent;
      border: 2px solid white;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      cursor: pointer;
      color: white;
      font-size: 18px;
      line-height: 32px;
      user-select: none;
      transition: background-color 0.3s, color 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #btnModoEscuro:hover {
      background-color: white;
      color: var(--verde);
    }
    body.dark-mode #btnModoEscuro {
      border-color: var(--amarelo-escuro);
      color: var(--amarelo-escuro);
    }
    body.dark-mode #btnModoEscuro:hover {
      background-color: var(--amarelo-escuro);
      color: #222;
    }
    header h1 {
      font-size: 2rem;
      font-weight: 700;
      user-select: none;
      text-align: center;
    }
    nav {
      display: flex;
      gap: 20px;
      margin-left: 20px;
    }
    nav a {
      text-decoration: none;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s;
    }
    nav a:hover {
      color: var(--amarelo);
    }
    body.dark-mode nav a:hover {
      color: var(--amarelo-escuro);
    }
    main {
      padding: 30px;
      max-width: 800px;
      text-align: center;
      width: 100%;
    }
    footer {
      margin-top: auto;
      background-color: var(--roxo);
      padding: 10px;
      width: 100%;
      text-align: center;
      font-size: 0.9rem;
      color: white;
    }
    body.dark-mode footer {
      background-color: var(--roxo-escuro);
    }
    .logo {
      width: 200px;
      margin: 15px auto;
      display: block;
    }
    section {
      display: none;
    }
    section.active {
      display: block;
    }
    ul {
      list-style-type: none;
      padding: 0;
      max-width: 400px;
      margin: 0 auto;
    }
    ul li {
      margin: 10px 0;
    }
    ul li a {
      color: var(--verde);
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s;
    }
    ul li a:hover {
      text-decoration: underline;
    }
    body.dark-mode ul li a {
      color: var(--amarelo);
    }
    .button {
      padding: 6px 12px;
      background-color: var(--verde);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s;
    }
    .button:hover {
      background-color: #1e877e;
    }
    body.dark-mode .button {
      background-color: var(--verde-escuro);
    }
    body.dark-mode .button:hover {
      background-color: #145e5b;
    }
    /* Galeria */
    .galeria-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      padding: 10px 0;
    }
    .galeria-container a img {
      width: 200px;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease;
    }
    .galeria-container a img:hover {
      transform: scale(1.05);
    }
    /* Caixa de Vers√≠culo do Dia */
    .versiculo-do-dia {
      background: var(--amarelo);
      color: #333;
      border-radius: 10px;
      padding: 15px 20px;
      max-width: 600px;
      margin: 0 auto 30px;
      font-style: italic;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s, color 0.3s;
    }
    body.dark-mode .versiculo-do-dia {
      background: var(--amarelo-escuro);
      color: #eee;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6);
    }
    /* Pedidos de ora√ß√£o */
    #pedidoOracaoForm {
      max-width: 600px;
      margin: 0 auto;
      text-align: left;
    }
    #pedidoOracaoForm label {
      display: block;
      margin: 10px 0 5px;
      font-weight: bold;
    }
    #pedidoOracaoForm input,
    #pedidoOracaoForm textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
      resize: vertical;
      transition: border-color 0.3s;
    }
    #pedidoOracaoForm input:focus,
    #pedidoOracaoForm textarea:focus {
      border-color: var(--verde);
      outline: none;
    }
    body.dark-mode #pedidoOracaoForm input,
    body.dark-mode #pedidoOracaoForm textarea {
      background-color: #222;
      color: #eee;
      border-color: #555;
    }
    body.dark-mode #pedidoOracaoForm input:focus,
    body.dark-mode #pedidoOracaoForm textarea:focus {
      border-color: var(--verde-escuro);
    }
    #listaPedidos {
      max-width: 600px;
      margin: 20px auto 0;
      text-align: left;
    }
    #listaPedidos p {
      background: var(--verde);
      color: white;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 10px;
      position: relative;
      word-wrap: break-word;
    }
    body.dark-mode #listaPedidos p {
      background: var(--verde-escuro);
    }
    #listaPedidos button.removerPedido {
      position: absolute;
      top: 8px;
      right: 8px;
      background: crimson;
      border: none;
      border-radius: 5px;
      padding: 3px 8px;
      cursor: pointer;
      color: white;
      font-weight: bold;
      font-size: 0.8rem;
    }
    #listaPedidos button.removerPedido:hover {
      background: #a30000;
    }
    /* Menu Hamb√∫rguer - Mobile */
    nav {
      display: flex;
      gap: 20px;
    }
    @media (max-width: 700px) {
      nav {
        position: fixed;
        top: 60px;
        left: 0;
        background-color: var(--verde);
        width: 200px;
        height: 100vh;
        flex-direction: column;
        padding: 20px;
        transform: translateX(-220px);
        transition: transform 0.3s ease;
        z-index: 1001;
      }
      nav.show {
        transform: translateX(0);
      }
      nav a {
        margin: 10px 0;
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <button id="btnHamburguer" aria-label="Abrir menu" title="Abrir menu">‚ò∞</button>
    <h1>Base Aurora - G148 Teen</h1>
    <button id="btnModoEscuro" title="Alternar modo claro/escuro">üåô</button>
    <nav id="menuNavegacao">
      <a onclick="mostrarSecao('inicio')">In√≠cio</a>
      <a onclick="mostrarSecao('agenda')">Eventos</a>
      <a onclick="mostrarSecao('galeria')">Galeria</a>
      <a onclick="mostrarSecao('links')">Links</a>
      <a onclick="mostrarSecao('contato')">Contato</a>
      <a onclick="mostrarSecao('pedidos-oracao')">Pedidos de Ora√ß√£o</a>
      <a onclick="mostrarSecao('musicas')">M√∫sicas</a>
      <a onclick="mostrarSecao('escala-lanches')">Escala de Lanches</a> <!-- adicionado link -->
    </nav>
  </header>

  <main>
    <img src="img/logo-base.jpg" class="logo" alt="Logo Base Aurora" />

    <section id="inicio" class="active">
      <div class="versiculo-do-dia" id="versiculoDoDia">
        <!-- Vers√≠culo aparecer√° aqui -->
      </div>
      <h2>Bem-vindo √† nossa Base!</h2>
      <p>
        Esse √© o site oficial da Escola Sabatina Teen Base Aurora. Aqui voc√™ encontra li√ß√µes, agenda de atividades, fotos e muito mais!
      </p>
    </section>

    <section id="agenda">
      <h2>üìÜ Eventos da Base</h2>
      <p>Clique em uma data e adicione um evento:</p>

      <div style="margin-top: 20px;">
        <input type="date" id="dataEvento" />
        <input type="text" id="descricaoEvento" placeholder="Descri√ß√£o do evento" />
        <button id="btnAdicionarEvento" class="button">Adicionar</button>
      </div>

      <div id="listaEventos" style="margin-top: 30px; text-align: left;"></div>
    </section>

    <section id="galeria">
      <h2>Galeria</h2>
      <p>Confira abaixo algumas fotos das nossas atividades:</p>

      <div class="galeria-container">
        <a href="imagens/atividade1.jpg" target="_blank">
          <img src="img/Imagem do WhatsApp de 2025-07-23 √†(s) 15.22.12_7852bc2e.jpg" alt="Atividade 1" />
        </a>
        <a href="imagens/atividade2.jpg" target="_blank">
          <img src="img/Imagem do WhatsApp de 2025-07-23 √†(s) 15.19.05_c7d76686.jpg" alt="Atividade 2" />
        </a>
        <a href="imagens/atividade3.jpg" target="_blank">
          <img src="img/Imagem do WhatsApp de 2025-07-23 √†(s) 15.14.05_6b1766a4.jpg" alt="Atividade 3" />
        </a>
      </div>
    </section>

    <section id="links">
      <h2>Links √öteis</h2>
      <ul>
        <li><a href="links/Li√ß√£o Adolescentes 2¬∞ trimestre 2025.pdf" target="_blank">üìñ Li√ß√£o do trimestre</a></li>
        <li><a href="links/informartivo-mundial-infantil-2trim2025.pdf" target="_blank">üìö Informativo</a></li>
        <li><a href="links/O libertador .pdf" target="_blank">üìô Livro Auxiliar</a></li>
        <li><a href="https://www.bibliaon.com/" target="_blank">üìï B√≠blia Online</a></li>
        <li><a href="https://adventistas.org" target="_blank">üåç Site Oficial da Igreja</a></li>
      </ul>
    </section>

    <section id="contato">
      <h2>üìû Contato da Base Aurora</h2>
      <p>Fale com a lideran√ßa ou acompanhe nossas redes sociais:</p>

      <div
        style="display: flex; flex-direction: column; gap: 20px; align-items: center; margin-top: 30px;"
      >
        <a
          href="https://www.instagram.com/base.aurora_g148t"
          target="_blank"
          style="
            background-color: #e1306c;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 1.1rem;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
          "
          >üì∏ Instagram Oficial da Base</a
        >

        <a
          href="https://chat.whatsapp.com/SEU_LINK_DO_GRUPO"
          target="_blank"
          style="
            background-color: #25d366;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 1.1rem;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
          "
          >üí¨ Grupo do WhatsApp da Base</a
        >
      </div>

      <p style="margin-top: 30px; color: #666;">
        üìç Igreja Adventista do S√©timo Dia - Rua Natal, 42- Jardim Agari<br />
        ‚è∞ S√°bados √†s 9h ‚Äì Escola Sabatina Adolescentes
      </p>
    </section>

    <section id="pedidos-oracao">
      <h2>üôè Pedidos de Ora√ß√£o</h2>
      <p>Envie seu pedido e vamos orar juntos durante a semana!</p>

      <form id="pedidoOracaoForm">
        <label for="nomePedido">Seu nome (opcional):</label>
        <input type="text" id="nomePedido" placeholder="Ex: Jo√£o" maxlength="30" />

        <label for="textoPedido">Pedido de ora√ß√£o:</label>
        <textarea
          id="textoPedido"
          rows="5"
          placeholder="Escreva aqui seu pedido..."
          required
          maxlength="500"
        ></textarea>

        <button type="submit" class="button" style="margin-top: 15px;">Enviar Pedido</button>
      </form>

      <div id="listaPedidos">
        <!-- Lista de pedidos aparecer√° aqui -->
      </div>
    </section>

    <section id="musicas">
      <h2>üéµ M√∫sicas para Louvor</h2>
      <p>Pesquise uma m√∫sica para tocarmos antes da li√ß√£o:</p>
      <input
        type="text"
        id="pesquisaMusica"
        placeholder="Digite o nome da m√∫sica..."
        style="padding: 10px; width: 80%; max-width: 400px; border-radius: 5px;"
      />
      <button
        onclick="buscarMusica()"
        style="padding: 10px 15px; border: none; background-color: #4caf50; color: white; border-radius: 5px; cursor: pointer;"
      >
        Buscar no YouTube
      </button>
    </section>

    <section id="escala-lanches">
      <h2>ü•™ Escala de Lanches</h2>
      <p>Cadastre os respons√°veis pelos lanches:</p>

      <form id="formEscalaLanches" style="max-width: 600px; margin: 0 auto; text-align: left;">
        <label for="inputDataLanche">Data:</label>
        <input type="date" id="inputDataLanche" required />

        <label for="inputNomeResponsavel">Nome do respons√°vel:</label>
        <input type="text" id="inputNomeResponsavel" maxlength="50" required />

        <label for="inputDescricaoLanche">Descri√ß√£o (opcional):</label>
        <input type="text" id="inputDescricaoLanche" maxlength="100" />

        <button type="submit" class="button" style="margin-top: 15px;">Adicionar √† Escala</button>
      </form>

      <table style="width: 100%; max-width: 600px; margin: 20px auto; border-collapse: collapse; text-align: left;">
        <thead>
          <tr style="background-color: var(--verde); color: white;">
            <th style="padding: 8px;">Data</th>
            <th style="padding: 8px;">Respons√°vel</th>
            <th style="padding: 8px;">Descri√ß√£o</th>
            <th style="padding: 8px; text-align:center;">A√ß√£o</th>
          </tr>
        </thead>
        <tbody>
          <!-- Escala carregada aqui -->
        </tbody>
      </table>
    </section>
  </main>

  <footer>
    &copy; 2025 Base Aurora | Desenvolvido por Felipe Medina
  </footer>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getDatabase,
      ref,
      push,
      set,
      get,
      remove,
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBcQQsDfdUFoYrB97uQcfhDX1M9aDyFuEc",
      authDomain: "base-aurora.firebaseapp.com",
      databaseURL: "https://base-aurora-default-rtdb.firebaseio.com",
      projectId: "base-aurora",
      storageBucket: "base-aurora.firebasestorage.app",
      messagingSenderId: "395083270436",
      appId: "1:395083270436:web:4f4965c2045366df558bb1",
      measurementId: "G-PJHTVWVZWQ"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Controle menu hamburguer
    const btnHamburguer = document.getElementById("btnHamburguer");
    const navMenu = document.getElementById("menuNavegacao");
    btnHamburguer.addEventListener("click", () => {
      navMenu.classList.toggle("show");
    });

    // Modo escuro
    const btnModoEscuro = document.getElementById("btnModoEscuro");
    btnModoEscuro.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      localStorage.setItem("modoEscuroBaseAurora", document.body.classList.contains("dark-mode"));
    });

    // Navega√ß√£o entre se√ß√µes
    function mostrarSecao(id) {
      document.querySelectorAll("main section").forEach(sec => {
        sec.classList.toggle("active", sec.id === id);
      });
      if(navMenu.classList.contains("show")) navMenu.classList.remove("show");
    }
    window.mostrarSecao = mostrarSecao;

    // Vers√≠culo do dia
    function carregarVersiculoDoDia() {
      const versiculos = [
        "Filipenses 4:13 ‚Äî Posso todas as coisas naquele que me fortalece.",
        "Salmos 23:1 ‚Äî O Senhor √© o meu pastor; nada me faltar√°.",
        "Isa√≠as 41:10 ‚Äî N√£o temas, porque eu sou contigo...",
        "Mateus 11:28 ‚Äî Vinde a mim...",
        "Romanos 8:28 ‚Äî Todas as coisas cooperam..."
      ];
      const index = new Date().getDate() % versiculos.length;
      document.getElementById("versiculoDoDia").textContent = versiculos[index];
    }

    // ==================== EVENTOS ====================
    async function carregarEventos() {
      const lista = document.getElementById("listaEventos");
      lista.innerHTML = "";

      const snapshot = await get(ref(db, "eventos"));
      if (!snapshot.exists()) {
        lista.textContent = "Nenhum evento cadastrado.";
        return;
      }

      const eventos = Object.entries(snapshot.val()).map(([id, data]) => ({ id, ...data }));
      eventos.sort((a, b) => new Date(a.data) - new Date(b.data));

      eventos.forEach(evento => {
        const div = document.createElement("div");
        div.style.cssText = "background-color: var(--verde); color: white; margin: 10px 0; padding: 10px; border-radius: 8px; position: relative;";
        div.textContent = `${new Date(evento.data).toLocaleDateString("pt-BR")} ‚Äî ${evento.descricao}`;

        const btnRemover = document.createElement("button");
        btnRemover.textContent = "X";
        btnRemover.title = "Remover evento";
        btnRemover.style.cssText = "position: absolute; right: 10px; top: 10px; background: crimson; color: white; border: none; border-radius: 5px; cursor: pointer; width: 24px; height: 24px; font-weight: bold;";
        btnRemover.onclick = () => remove(ref(db, "eventos/" + evento.id)).then(carregarEventos);

        div.appendChild(btnRemover);
        lista.appendChild(div);
      });
    }

    document.getElementById("btnAdicionarEvento").onclick = async () => {
      const data = document.getElementById("dataEvento").value;
      const descricao = document.getElementById("descricaoEvento").value.trim();
      if (!data || !descricao) return alert("Preencha os campos");

      const novaRef = push(ref(db, "eventos"));
      await set(novaRef, { data, descricao });
      document.getElementById("dataEvento").value = "";
      document.getElementById("descricaoEvento").value = "";
      alert("Evento adicionado!");
      carregarEventos();
    };

    // ==================== PEDIDOS DE ORA√á√ÉO ====================
    async function carregarPedidosOracao() {
      const lista = document.getElementById("listaPedidos");
      lista.innerHTML = "";

      const snapshot = await get(ref(db, "pedidos"));
      if (!snapshot.exists()) {
        lista.textContent = "Nenhum pedido de ora√ß√£o enviado ainda.";
        return;
      }

      const pedidos = Object.entries(snapshot.val()).map(([id, data]) => ({ id, ...data }));

      pedidos.forEach(pedido => {
        const p = document.createElement("p");
        p.style.position = "relative";
        p.textContent = pedido.nome ? `${pedido.nome}: ${pedido.texto}` : pedido.texto;

        const btn = document.createElement("button");
        btn.textContent = "X";
        btn.className = "removerPedido";
        btn.title = "Remover pedido";
        btn.onclick = () => remove(ref(db, "pedidos/" + pedido.id)).then(carregarPedidosOracao);

        p.appendChild(btn);
        lista.appendChild(p);
      });
    }

    document.getElementById("pedidoOracaoForm").addEventListener("submit", async e => {
      e.preventDefault();
      const nome = document.getElementById("nomePedido").value.trim();
      const texto = document.getElementById("textoPedido").value.trim();
      if (!texto) return alert("Escreva seu pedido.");

      const novaRef = push(ref(db, "pedidos"));
      await set(novaRef, { nome, texto });
      document.getElementById("pedidoOracaoForm").reset();
      alert("Pedido enviado!");
      carregarPedidosOracao();
    });

    // ==================== ESCALA DE LANCHES ====================
    async function carregarEscalaLanches() {
      const tbody = document.querySelector("#escala-lanches tbody");
      tbody.innerHTML = "";

      const snapshot = await get(ref(db, "lanches"));
      if (!snapshot.exists()) {
        tbody.innerHTML = `<tr><td colspan="4" style="text-align:center; padding: 20px; color: #666;">Nenhum respons√°vel cadastrado.</td></tr>`;
        return;
      }

      const escala = Object.entries(snapshot.val()).map(([id, data]) => ({ id, ...data }));
      escala.sort((a, b) => new Date(a.data) - new Date(b.data));

      escala.forEach(item => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td style="padding: 10px;">${new Date(item.data).toLocaleDateString("pt-BR")}</td>
          <td style="padding: 10px;">${item.nome}</td>
          <td style="padding: 10px;">${item.descricao || ""}</td>
          <td style="padding: 10px; text-align: center;">
            <button style="background: crimson; color: white; border: none; border-radius: 5px; padding: 4px 8px; cursor: pointer;" title="Remover" onclick="removerLanche('${item.id}')">X</button>
          </td>`;
        tbody.appendChild(tr);
      });
    }

    window.removerLanche = async id => {
      await remove(ref(db, "lanches/" + id));
      carregarEscalaLanches();
    };

    document.getElementById("formEscalaLanches").addEventListener("submit", async e => {
      e.preventDefault();
      const data = document.getElementById("inputDataLanche").value;
      const nome = document.getElementById("inputNomeResponsavel").value.trim();
      const descricao = document.getElementById("inputDescricaoLanche").value.trim();
      if (!data || !nome) return alert("Preencha os campos obrigat√≥rios.");

      const novaRef = push(ref(db, "lanches"));
      await set(novaRef, { data, nome, descricao });
      e.target.reset();
      alert("Escala salva!");
      carregarEscalaLanches();
    });

    // ==================== IN√çCIO ====================
    window.addEventListener("load", () => {
      if (localStorage.getItem("modoEscuroBaseAurora") === "true") {
        document.body.classList.add("dark-mode");
      }
      carregarEventos();
      carregarPedidosOracao();
      carregarEscalaLanches();
      carregarVersiculoDoDia();
    });

    // ==================== BUSCAR M√öSICA ====================
    function buscarMusica() {
      const pesquisa = document.getElementById("pesquisaMusica").value.trim();
      if (!pesquisa) {
        alert("Digite o nome da m√∫sica para buscar.");
        return;
      }
      const url = `https://www.youtube.com/results?search_query=${encodeURIComponent(pesquisa)}`;
      window.open(url, "_blank");
    }
    window.buscarMusica = buscarMusica;
  </script>
</body>
</html>
