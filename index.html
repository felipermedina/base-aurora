<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Base Aurora | G148 Teen</title>
  <style>
    :root {
      --roxo: #6A1B9A;
      --verde: #26A69A;
      --amarelo: #FFC107;
      --fundo: #FFFFFF;
      --texto: #333333;
      --fundo-escuro: #121212;
      --texto-escuro: #EEE;
      --verde-escuro: #1B7A74;
      --roxo-escuro: #4B116F;
      --amarelo-escuro: #B08900;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", sans-serif;
    }

    body {
      background-color: var(--fundo);
      color: var(--texto);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }

    body.dark-mode {
      background-color: var(--fundo-escuro);
      color: var(--texto-escuro);
    }

    header {
      background-color: var(--verde);
      width: 100%;
      padding: 20px 60px;
      color: white;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      position: relative;

      display: flex;
      align-items: center;
      justify-content: center;
    }

    #btnHamburguer {
      position: absolute;
      left: 20px;
      font-size: 28px;
      cursor: pointer;
      user-select: none;
      color: white;
      background: transparent;
      border: none;
      padding: 0;
      line-height: 1;
      z-index: 1002;
    }

    #btnModoEscuro {
      position: absolute;
      right: 20px;
      background: transparent;
      border: 2px solid white;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      cursor: pointer;
      color: white;
      font-size: 18px;
      line-height: 32px;
      user-select: none;
      transition: background-color 0.3s, color 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #btnModoEscuro:hover {
      background-color: white;
      color: var(--verde);
    }

    body.dark-mode #btnModoEscuro {
      border-color: var(--amarelo-escuro);
      color: var(--amarelo-escuro);
    }

    body.dark-mode #btnModoEscuro:hover {
      background-color: var(--amarelo-escuro);
      color: #222;
    }

    header h1 {
      font-size: 2rem;
      font-weight: 700;
      user-select: none;
      text-align: center;
    }

    nav {
      display: flex;
      gap: 20px;
      margin-left: 20px;
    }

    nav a {
      text-decoration: none;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s;
    }

    nav a:hover {
      color: var(--amarelo);
    }

    body.dark-mode nav a:hover {
      color: var(--amarelo-escuro);
    }

    main {
      padding: 30px;
      max-width: 800px;
      text-align: center;
      width: 100%;
    }

    footer {
      margin-top: auto;
      background-color: var(--roxo);
      padding: 10px;
      width: 100%;
      text-align: center;
      font-size: 0.9rem;
      color: white;
    }

    body.dark-mode footer {
      background-color: var(--roxo-escuro);
    }

    .logo {
      width: 200px;
      margin: 15px auto;
      display: block;
    }

    section {
      display: none;
    }

    section.active {
      display: block;
    }

    ul {
      list-style-type: none;
      padding: 0;
      max-width: 400px;
      margin: 0 auto;
    }

    ul li {
      margin: 10px 0;
    }

    ul li a {
      color: var(--verde);
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s;
    }

    ul li a:hover {
      text-decoration: underline;
    }

    body.dark-mode ul li a {
      color: var(--amarelo);
    }

    .button {
      padding: 6px 12px;
      background-color: var(--verde);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s;
    }

    .button:hover {
      background-color: #1e877e;
    }

    body.dark-mode .button {
      background-color: var(--verde-escuro);
    }

    body.dark-mode .button:hover {
      background-color: #145e5b;
    }

    .galeria-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      padding: 10px 0;
    }

    .galeria-container a img {
      width: 200px;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease;
    }

    .galeria-container a img:hover {
      transform: scale(1.05);
    }

    .versiculo-do-dia {
      background: var(--amarelo);
      color: #333;
      border-radius: 10px;
      padding: 15px 20px;
      max-width: 600px;
      margin: 0 auto 30px;
      font-style: italic;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s, color 0.3s;
    }

    body.dark-mode .versiculo-do-dia {
      background: var(--amarelo-escuro);
      color: #eee;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6);
    }

    #pedidoOracaoForm {
      max-width: 600px;
      margin: 0 auto;
      text-align: left;
    }

    #pedidoOracaoForm label {
      display: block;
      margin: 10px 0 5px;
      font-weight: bold;
    }

    #pedidoOracaoForm input,
    #pedidoOracaoForm textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
      resize: vertical;
      transition: border-color 0.3s;
    }

    #pedidoOracaoForm input:focus,
    #pedidoOracaoForm textarea:focus {
      border-color: var(--verde);
      outline: none;
    }

    body.dark-mode #pedidoOracaoForm input,
    body.dark-mode #pedidoOracaoForm textarea {
      background-color: #222;
      color: #eee;
      border-color: #555;
    }

    body.dark-mode #pedidoOracaoForm input:focus,
    body.dark-mode #pedidoOracaoForm textarea:focus {
      border-color: var(--verde-escuro);
    }

    #listaPedidos {
      max-width: 600px;
      margin: 20px auto 0;
      text-align: left;
    }

    #listaPedidos p {
      background: var(--verde);
      color: white;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 10px;
      position: relative;
      word-wrap: break-word;
    }

    body.dark-mode #listaPedidos p {
      background: var(--verde-escuro);
    }

    #listaPedidos button.removerPedido {
      position: absolute;
      top: 8px;
      right: 8px;
      background: crimson;
      border: none;
      border-radius: 5px;
      padding: 3px 8px;
      cursor: pointer;
      color: white;
      font-weight: bold;
      font-size: 0.8rem;
    }

    #listaPedidos button.removerPedido:hover {
      background: #a30000;
    }

    nav {
      display: flex;
      gap: 20px;
    }

    @media (max-width: 700px) {
      nav {
        position: fixed;
        top: 60px;
        left: 0;
        background-color: var(--verde);
        width: 200px;
        height: 100vh;
        flex-direction: column;
        padding: 20px;
        transform: translateX(-220px);
        transition: transform 0.3s ease;
        z-index: 1001;
      }

      nav.show {
        transform: translateX(0);
      }

      nav a {
        margin: 10px 0;
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <button id="btnHamburguer" aria-label="Abrir menu" title="Abrir menu">☰</button>
    <h1>Base Aurora - G148 Teen</h1>
    <button id="btnModoEscuro" title="Alternar modo claro/escuro">🌙</button>
    <nav id="menuNavegacao">
      <a onclick="mostrarSecao('inicio')">Início</a>
      <a onclick="mostrarSecao('agenda')">Eventos</a>
      <a onclick="mostrarSecao('galeria')">Galeria</a>
      <a onclick="mostrarSecao('links')">Links</a>
      <a onclick="mostrarSecao('contato')">Contato</a>
      <a onclick="mostrarSecao('pedidos-oracao')">Pedidos de Oração</a>
      <a onclick="mostrarSecao('musicas')">Músicas</a>
      <a onclick="mostrarSecao('escala-lanches')">Escala de Lanches</a>
    </nav>
  </header>

  <main>
    <img src="img/logo-base.jpg" class="logo" alt="Logo Base Aurora" />

    <section id="inicio" class="active">
      <div class="versiculo-do-dia" id="versiculoDoDia"></div>
      <h2>Bem-vindo à nossa Base!</h2>
      <p>
        Esse é o site oficial da Escola Sabatina Teen Base Aurora. Aqui você encontra lições, agenda de atividades, fotos e muito mais!
      </p>
    </section>

    <section id="agenda">
      <h2>📆 Eventos da Base</h2>
      <p>Clique em uma data e adicione um evento:</p>

      <div style="margin-top: 20px;">
        <input type="date" id="dataEvento" />
        <input type="text" id="descricaoEvento" placeholder="Descrição do evento" />
        <button class="button" onclick="adicionarEvento()">Adicionar</button>
      </div>

      <div id="listaEventos" style="margin-top: 30px; text-align: left;"></div>
    </section>

    <section id="galeria">
      <h2>Galeria</h2>
      <p>Confira abaixo algumas fotos das nossas atividades:</p>

      <div class="galeria-container">
        <a href="imagens/atividade1.jpg" target="_blank">
          <img src="img/Imagem do WhatsApp de 2025-07-23 à(s) 15.22.12_7852bc2e.jpg" alt="Atividade 1" />
        </a>

        <a href="imagens/atividade2.jpg" target="_blank">
          <img src="img/Imagem do WhatsApp de 2025-07-23 à(s) 15.19.05_c7d76686.jpg" alt="Atividade 2" />
        </a>

        <a href="imagens/atividade3.jpg" target="_blank">
          <img src="img/Imagem do WhatsApp de 2025-07-23 à(s) 15.14.05_6b1766a4.jpg" alt="Atividade 3" />
        </a>
      </div>
    </section>

    <section id="links">
      <h2>Links Úteis</h2>
      <ul>
        <li><a href="links/Lição Adolescentes 2° trimestre 2025.pdf" target="_blank">📖 Lição do trimestre</a></li>
        <li><a href="links/informartivo-mundial-infantil-2trim2025.pdf" target="_blank">📚 Informativo</a></li>
        <li><a href="links/O libertador .pdf" target="_blank">📙 Livro Auxiliar</a></li>
        <li><a href="https://www.bibliaon.com/" target="_blank">📕 Bíblia Online</a></li>
        <li><a href="https://adventistas.org" target="_blank">🌍 Site Oficial da Igreja</a></li>
      </ul>
    </section>

    <section id="contato">
      <h2>📞 Contato da Base Aurora</h2>
      <p>Fale com a liderança ou acompanhe nossas redes sociais:</p>

      <div style="display: flex; flex-direction: column; gap: 20px; align-items: center; margin-top: 30px;">
        <a
          href="https://www.instagram.com/base.aurora_g148t"
          target="_blank"
          style="
            background-color: #e1306c;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 1.1rem;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
          "
          >📸 Instagram Oficial da Base</a
        >

        <a
          href="https://chat.whatsapp.com/SEU_LINK_DO_GRUPO"
          target="_blank"
          style="
            background-color: #25d366;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 1.1rem;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
          "
          >💬 Grupo do WhatsApp da Base</a
        >
      </div>

      <p style="margin-top: 30px; color: #666;">
        📍 Igreja Adventista do Sétimo Dia - Rua Natal, 42- Jardim Agari<br />
        ⏰ Sábados às 9h – Escola Sabatina Adolescentes
      </p>
    </section>

    <section id="pedidos-oracao">
      <h2>🙏 Pedidos de Oração</h2>
      <p>Envie seu pedido e vamos orar juntos durante a semana!</p>

      <form id="pedidoOracaoForm">
        <label for="nomePedido">Seu nome (opcional):</label>
        <input type="text" id="nomePedido" placeholder="Ex: João" maxlength="30" />

        <label for="textoPedido">Pedido de oração:</label>
        <textarea
          id="textoPedido"
          rows="5"
          placeholder="Escreva aqui seu pedido..."
          required
          maxlength="500"
        ></textarea>

        <button type="submit" class="button" style="margin-top: 15px;">Enviar Pedido</button>
      </form>

      <div id="listaPedidos"></div>
    </section>

    <section id="musicas">
      <h2>🎵 Músicas para Louvor</h2>
      <p>Pesquise uma música para ouvir:</p>
      <input
        type="text"
        id="inputBuscaMusica"
        placeholder="Digite o nome da música"
        style="width: 80%; max-width: 500px; padding: 8px; margin: 10px auto; display: block; border-radius: 5px; border: 1px solid #ccc;"
      />
      <ul id="listaMusicas" style="list-style: none; padding: 0; max-width: 500px; margin: auto;"></ul>
    </section>

    <!-- Nova aba: Escala de Lanches -->
    <section id="escala-lanches">
      <h2>🍎 Escala de Lanches</h2>
      <p>Veja quem vai levar lanche nos próximos sábados e adicione novos responsáveis.</p>

      <table id="tabelaEscala" style="width: 100%; max-width: 700px; margin: auto; border-collapse: collapse; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
        <thead style="background-color: var(--verde); color: white;">
          <tr>
            <th style="padding: 10px; text-align: left;">Data</th>
            <th style="padding: 10px; text-align: left;">Responsável</th>
            <th style="padding: 10px; text-align: left;">Descrição do Lanche</th>
            <th style="padding: 10px; text-align: center; width: 60px;">Remover</th>
          </tr>
        </thead>
        <tbody>
          <!-- Linhas serão preenchidas via JS -->
        </tbody>
      </table>

      <form id="formEscalaLanches" style="max-width: 700px; margin: 30px auto; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
        <input type="date" id="inputDataLanche" required style="flex: 1 1 150px; padding: 8px; border-radius: 5px; border: 1px solid #ccc;" />
        <input type="text" id="inputNomeResponsavel" placeholder="Nome do responsável" required style="flex: 1 1 200px; padding: 8px; border-radius: 5px; border: 1px solid #ccc;" />
        <input type="text" id="inputDescricaoLanche" placeholder="Descrição do lanche (ex: frutas, suco, bolo)" style="flex: 2 1 300px; padding: 8px; border-radius: 5px; border: 1px solid #ccc;" />
        <button type="submit" class="button" style="flex: 1 1 100px;">Salvar</button>
      </form>
    </section>
  </main>

  <footer>
    &copy; 2025 Base Aurora | G148 Teen
  </footer>

  <script>
    // Controle do menu hamburguer para telas pequenas
    const btnHamburguer = document.getElementById("btnHamburguer");
    const navMenu = document.getElementById("menuNavegacao");

    btnHamburguer.addEventListener("click", () => {
      navMenu.classList.toggle("show");
    });

    // Controle da troca de seções
    function mostrarSecao(idSecao) {
      document.querySelectorAll("main section").forEach((sec) => {
        sec.classList.remove("active");
      });
      const secao = document.getElementById(idSecao);
      if (secao) {
        secao.classList.add("active");
      }
      // Fecha o menu no mobile ao clicar em uma aba
      navMenu.classList.remove("show");
    }

    // Controle modo escuro
    const btnModoEscuro = document.getElementById("btnModoEscuro");

    btnModoEscuro.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      // Salva preferência localStorage
      if (document.body.classList.contains("dark-mode")) {
        localStorage.setItem("modoEscuroBaseAurora", "true");
      } else {
        localStorage.setItem("modoEscuroBaseAurora", "false");
      }
    });

    // Ao carregar, aplica preferência modo escuro
    window.addEventListener("load", () => {
      if (localStorage.getItem("modoEscuroBaseAurora") === "true") {
        document.body.classList.add("dark-mode");
      }
      carregarEventos();
      carregarPedidosOracao();
      carregarEscalaLanches();
      carregarVersiculoDoDia();
    });

    // ====================
    // Versículo do dia
    // ====================
    const versiculos = [
      "Filipenses 4:13 — Posso todas as coisas naquele que me fortalece.",
      "Salmos 23:1 — O Senhor é o meu pastor; nada me faltará.",
      "Isaías 41:10 — Não temas, porque eu sou contigo; não te assombres, porque eu sou teu Deus.",
      "Mateus 11:28 — Vinde a mim, todos os que estais cansados e oprimidos, e eu vos aliviarei.",
      "Romanos 8:28 — E sabemos que todas as coisas contribuem juntamente para o bem daqueles que amam a Deus."
    ];

    function carregarVersiculoDoDia() {
      const index = new Date().getDate() % versiculos.length;
      document.getElementById("versiculoDoDia").textContent = versiculos[index];
    }

    // ====================
    // Agenda / Eventos
    // ====================
    function carregarEventos() {
      const eventos = JSON.parse(localStorage.getItem("eventosBaseAurora")) || [];
      const lista = document.getElementById("listaEventos");
      lista.innerHTML = "";

      if (eventos.length === 0) {
        lista.textContent = "Nenhum evento cadastrado.";
        return;
      }

      eventos.sort((a, b) => new Date(a.data) - new Date(b.data));

      eventos.forEach((evento, i) => {
        const div = document.createElement("div");
        div.style.backgroundColor = "var(--verde)";
        div.style.color = "white";
        div.style.margin = "10px 0";
        div.style.padding = "10px";
        div.style.borderRadius = "8px";
        div.style.position = "relative";

        const dataFormatada = new Date(evento.data).toLocaleDateString("pt-BR");
        div.textContent = `${dataFormatada} — ${evento.descricao}`;

        // Botão remover
        const btnRemover = document.createElement("button");
        btnRemover.textContent = "X";
        btnRemover.title = "Remover evento";
        btnRemover.style.position = "absolute";
        btnRemover.style.right = "10px";
        btnRemover.style.top = "10px";
        btnRemover.style.background = "crimson";
        btnRemover.style.color = "white";
        btnRemover.style.border = "none";
        btnRemover.style.borderRadius = "5px";
        btnRemover.style.cursor = "pointer";
        btnRemover.style.width = "24px";
        btnRemover.style.height = "24px";
        btnRemover.style.fontWeight = "bold";
        btnRemover.addEventListener("click", () => {
          removerEvento(i);
        });

        div.appendChild(btnRemover);
        lista.appendChild(div);
      });
    }

    function adicionarEvento() {
      const dataInput = document.getElementById("dataEvento");
      const descricaoInput = document.getElementById("descricaoEvento");

      const data = dataInput.value;
      const descricao = descricaoInput.value.trim();

      if (!data || !descricao) {
        alert("Por favor, preencha a data e a descrição do evento.");
        return;
      }

      let eventos = JSON.parse(localStorage.getItem("eventosBaseAurora")) || [];
      eventos.push({ data, descricao });

      localStorage.setItem("eventosBaseAurora", JSON.stringify(eventos));
      carregarEventos();
      dataInput.value = "";
      descricaoInput.value = "";
      alert("Evento adicionado com sucesso!");
    }

    function removerEvento(index) {
      let eventos = JSON.parse(localStorage.getItem("eventosBaseAurora")) || [];
      eventos.splice(index, 1);
      localStorage.setItem("eventosBaseAurora", JSON.stringify(eventos));
      carregarEventos();
    }

    // ====================
    // Pedidos de Oração
    // ====================
    const formPedidoOracao = document.getElementById("pedidoOracaoForm");
    formPedidoOracao.addEventListener("submit", (e) => {
      e.preventDefault();

      const nome = document.getElementById("nomePedido").value.trim();
      const texto = document.getElementById("textoPedido").value.trim();

      if (!texto) {
        alert("Por favor, escreva seu pedido de oração.");
        return;
      }

      let pedidos = JSON.parse(localStorage.getItem("pedidosOracaoBaseAurora")) || [];
      pedidos.push({ nome, texto, id: Date.now() });

      localStorage.setItem("pedidosOracaoBaseAurora", JSON.stringify(pedidos));
      carregarPedidosOracao();
      formPedidoOracao.reset();
      alert("Pedido enviado com sucesso!");
    });

    function carregarPedidosOracao() {
      const lista = document.getElementById("listaPedidos");
      const pedidos = JSON.parse(localStorage.getItem("pedidosOracaoBaseAurora")) || [];

      lista.innerHTML = "";
      if (pedidos.length === 0) {
        lista.textContent = "Nenhum pedido de oração enviado ainda.";
        return;
      }

      pedidos.forEach((pedido) => {
        const p = document.createElement("p");
        p.style.position = "relative";

        p.textContent = pedido.nome ? `${pedido.nome}: ${pedido.texto}` : pedido.texto;

        const btnRemover = document.createElement("button");
        btnRemover.textContent = "X";
        btnRemover.classList.add("removerPedido");
        btnRemover.title = "Remover pedido";
        btnRemover.addEventListener("click", () => {
          removerPedidoOracao(pedido.id);
        });

        p.appendChild(btnRemover);
        lista.appendChild(p);
      });
    }

    function removerPedidoOracao(id) {
      let pedidos = JSON.parse(localStorage.getItem("pedidosOracaoBaseAurora")) || [];
      pedidos = pedidos.filter((pedido) => pedido.id !== id);
      localStorage.setItem("pedidosOracaoBaseAurora", JSON.stringify(pedidos));
      carregarPedidosOracao();
    }

    // ====================
    // Músicas
    // ====================
    const listaMusicas = document.getElementById("listaMusicas");
    const inputBuscaMusica = document.getElementById("inputBuscaMusica");

    const musicasBase = [
      "Quero ser como Jesus",
      "Grandioso és Tu",
      "Mais Perto Quero Estar",
      "Alvo Mais Que a Neve",
      "Céu de Luz",
      "Vem, Espírito Santo"
    ];

    function filtrarMusicas() {
      const textoBusca = inputBuscaMusica.value.toLowerCase();
      listaMusicas.innerHTML = "";

      const musicasFiltradas = musicasBase.filter((m) => m.toLowerCase().includes(textoBusca));
      if (musicasFiltradas.length === 0) {
        listaMusicas.innerHTML = "<li>Nenhuma música encontrada.</li>";
        return;
      }

      musicasFiltradas.forEach((musica) => {
        const li = document.createElement("li");
        li.textContent = musica;
        listaMusicas.appendChild(li);
      });
    }

    inputBuscaMusica.addEventListener("input", filtrarMusicas);
    filtrarMusicas();

    // ====================
    // Escala de Lanches
    // ====================
    function carregarEscalaLanches() {
      const escala = JSON.parse(localStorage.getItem("escalaLanchesBase")) || [];
      const tbody = document.querySelector("#escala-lanches tbody");
      tbody.innerHTML = "";

      if (escala.length === 0) {
        tbody.innerHTML = `<tr><td colspan="4" style="text-align:center; padding: 20px; color: #666;">Nenhum responsável cadastrado.</td></tr>`;
        return;
      }

      escala.sort((a,b) => new Date(a.data) - new Date(b.data));

      escala.forEach((item, index) => {
        const tr = document.createElement("tr");

        const dataFormatada = new Date(item.data).toLocaleDateString("pt-BR");

        tr.innerHTML = `
          <td style="padding: 10px;">${dataFormatada}</td>
          <td style="padding: 10px;">${item.nome}</td>
          <td style="padding: 10px;">${item.descricao || ""}</td>
          <td style="padding: 10px; text-align: center;">
            <button style="background: crimson; color: white; border: none; border-radius: 5px; padding: 4px 8px; cursor: pointer;" title="Remover" onclick="removerEscalaLanche(${index})">X</button>
          </td>
        `;
        tbody.appendChild(tr);
      });
    }

    function adicionarEscalaLanche(event) {
      event.preventDefault();
      const data = document.getElementById("inputDataLanche").value;
      const nome = document.getElementById("inputNomeResponsavel").value.trim();
      const descricao = document.getElementById("inputDescricaoLanche").value.trim();

      if (!data || !nome) {
        alert("Por favor, preencha a data e o nome do responsável.");
        return;
      }

      let escala = JSON.parse(localStorage.getItem("escalaLanchesBase")) || [];

      // Verifica se já tem um responsável para aquela data (não permite duplicatas)
      const existeIndex = escala.findIndex((item) => item.data === data);
      if (existeIndex >= 0) {
        // Atualiza o registro existente
        escala[existeIndex] = { data, nome, descricao };
      } else {
        // Adiciona novo registro
        escala.push({ data, nome, descricao });
      }

      localStorage.setItem("escalaLanchesBase", JSON.stringify(escala));
      carregarEscalaLanches();
      document.getElementById("formEscalaLanches").reset();
      alert("Escala salva com sucesso!");
    }

    function removerEscalaLanche(index) {
      let escala = JSON.parse(localStorage.getItem("escalaLanchesBase")) || [];
      escala.splice(index, 1);
      localStorage.setItem("escalaLanchesBase", JSON.stringify(escala));
      carregarEscalaLanches();
    }

    document.getElementById("formEscalaLanches").addEventListener("submit", adicionarEscalaLanche);
  </script>
</body>
</html>
